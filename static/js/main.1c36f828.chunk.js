(this["webpackJsonpping-pong-challenge-react"]=this["webpackJsonpping-pong-challenge-react"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/loop.1395a2aa.mp3"},function(e,t,a){e.exports=a.p+"static/media/ball-incoming.09c537af.mp3"},function(e,t,a){e.exports=a.p+"static/media/ball-outgoing.177649ca.mp3"},function(e,t,a){e.exports=a.p+"static/media/game-over.f945164c.mp3"},function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(4),i=a.n(n),u=(a(15),a(2)),l=a(5),s=a(1),o=a.n(s),m=(a(16),a(6)),v=a.n(m),d=a(7),b=a.n(d),f=a(8),p=a.n(f),g=a(9),E=a.n(g),h=new o.a(v.a,{volume:.2,loop:!0}),O=new o.a(b.a,{volume:.8}),j=new o.a(p.a,{volume:.8}),N=new o.a(E.a,{volume:.8}),R=!1,y=600,k=200,w=1e3,P=3e3,S=10,x="start",M=0,A=0;var F=function(){var e=Object(l.a)("maxScore",A),t=Object(u.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(0),s=Object(u.a)(i,2),o=s[0],m=s[1],v=Object(r.useState)(x),d=Object(u.a)(v,2),b=d[0],f=d[1],p=Object(r.useState)(M),g=Object(u.a)(p,2),E=g[0],F=g[1],T=Object(r.useRef)(x),q=Object(r.useRef)(!1),B=Object(r.useRef)(),C=Object(r.useRef)(),G=Object(r.useRef)(M),J=Object(r.useRef)(),W=Object(r.useRef)(),z=Object(r.useRef)(),D=Object(r.useRef)(),I=Object(r.useRef)(),L=Object(r.useRef)(),X=function e(t){if(void 0===C.current)J.current=t;else{var r=t-C.current,c=Math.trunc(1e3/r);m(c)}if(void 0===W.current){W.current=t;var i=Math.trunc(G.current/10)/10,u=1-i,l=1+i;j.setPlaybackRate(l),O.setPlaybackRate(l),h.setPlaybackRate(l),z.current=t+(Math.floor(Math.random()*(y+k-y+1))+y)*u,D.current=z.current+w*u,j.play()}return t>=z.current&&0===L.current&&(O.play(),L.current=1),1===L.current&&(void 0!==I.current&&I.current>=z.current&&I.current<=D.current&&(G.current+=1,F(G.current),W.current=void 0,L.current=0,I.current=void 0),t>=D.current)?(N.play(),G.current>=a&&n(G.current),h.setPlaybackRate(1),T.current="over",f(T.current),void setTimeout((function(){T.current="start",f(T.current)}),P)):G.current>=100?(N.play(),h.setPlaybackRate(1),T.current="hack",f(T.current),void setTimeout((function(){T.current="start",f(T.current)}),P)):(C.current=t,void(B.current=requestAnimationFrame(e)))},$=function(){"start"===T.current?(C.current=void 0,G.current=M,F(G.current),J.current=void 0,W.current=void 0,z.current=void 0,D.current=void 0,I.current=void 0,L.current=0,h.setPlaybackRate(1),j.setPlaybackRate(1),O.setPlaybackRate(1),T.current="game",f(T.current),B.current=requestAnimationFrame(X)):I.current=C.current},H=function(e){if(!q.current){var t=e.acceleration,a=t.x,r=t.y,c=t.z,n=0;Math.abs(a)>=S&&(n+=1),Math.abs(r)>=S&&(n+=1),Math.abs(c)>=S&&(n+=1),n>=2&&(q.current=!0,setTimeout((function(){q.current=!1}),500),$())}};return Object(r.useEffect)((function(){h.play(),cancelAnimationFrame(B.current)}),[]),Object(r.useEffect)((function(){window.addEventListener("devicemotion",H,!0)})),c.a.createElement("div",{className:"app"},"start"===b&&c.a.createElement("div",{className:"stage"},a>=1&&c.a.createElement("div",{className:"max-score"},"MAX SCORE: ",a),c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"big-title"},"Ping Pong"),"Challenge!"),c.a.createElement("div",{className:"blink"},"Turn up the volume and Swing your phone to start")),"game"===b&&c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"big-title"},"Score"),c.a.createElement("div",{className:"big-title"},E))),"over"===b&&c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"big-title"},"Game Over!")),c.a.createElement("div",{className:"blink"},"Score: ",E))),"hack"===b&&c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"big-title"},"Are you a GOD?")))),R&&c.a.createElement("div",{className:"debug"},c.a.createElement("ul",null,c.a.createElement("li",null,"FPS: ",o),c.a.createElement("li",null,"Stage: ",b),c.a.createElement("li",null,"Score: ",E))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.1c36f828.chunk.js.map